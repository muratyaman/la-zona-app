(this["webpackJsonpla-zona-front"]=this["webpackJsonpla-zona-front"]||[]).push([[0],{25:function(e){e.exports=JSON.parse("[[-0.215106,51.526354],[-0.214677,51.524485],[-0.222058,51.522669],[-0.228152,51.518877],[-0.226092,51.515298],[-0.221801,51.515192],[-0.218883,51.508301],[-0.215707,51.50392],[-0.209699,51.499486],[-0.206265,51.498684],[-0.20206,51.495211],[-0.199571,51.494837],[-0.19691,51.495692],[-0.194507,51.493394],[-0.187297,51.486607],[-0.180259,51.4803],[-0.17674,51.480941],[-0.175624,51.481796],[-0.16026,51.484255],[-0.150132,51.485912],[-0.140004,51.485057],[-0.135713,51.485538],[-0.135627,51.485858],[-0.131679,51.487034],[-0.130649,51.488745],[-0.129619,51.489119],[-0.124125,51.486767],[-0.120091,51.486446],[-0.112967,51.487729],[-0.111165,51.489332],[-0.1055,51.491417],[-0.103269,51.491844],[-0.101209,51.493715],[-0.101638,51.495425],[-0.100179,51.496333],[-0.099235,51.495425],[-0.087047,51.494623],[-0.085073,51.495425],[-0.080695,51.497722],[-0.077519,51.503974],[-0.075631,51.506004],[-0.07562,51.506028],[-0.074118,51.509273],[-0.075127,51.510208],[-0.075363,51.511169],[-0.074784,51.51137],[-0.073088,51.51141],[-0.07326,51.511877],[-0.118411,51.52855],[-0.115407,51.529458],[-0.113733,51.5313],[-0.106266,51.531754],[-0.093176,51.528523],[-0.088456,51.527135],[-0.087383,51.525373],[-0.084336,51.526201],[-0.075195,51.521368],[-0.074079,51.517656],[-0.072706,51.516187],[-0.07365,51.514771],[-0.073392,51.511967],[-0.118582,51.528657],[-0.120041,51.528577],[-0.121672,51.530446],[-0.122745,51.530339],[-0.130169,51.527215],[-0.129783,51.526815],[-0.133045,51.52556],[-0.133903,51.525987],[-0.143774,51.52337],[-0.144889,51.523691],[-0.145748,51.522729],[-0.146949,51.522729],[-0.148065,51.52329],[-0.15712,51.521955],[-0.156648,51.52102],[-0.159738,51.52038],[-0.159953,51.521474],[-0.165102,51.520593],[-0.165918,51.518991],[-0.167506,51.517923],[-0.169351,51.519205],[-0.170424,51.519739],[-0.177677,51.519819],[-0.182097,51.519525],[-0.191402,51.519445],[-0.199385,51.521474],[-0.201745,51.522249],[-0.204449,51.522436],[-0.206079,51.525186],[-0.209084,51.526094],[-0.215135,51.526361],[-0.215106,51.526354]]")},27:function(e,t,n){e.exports=n(42)},32:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(15),i=n.n(r),c=(n(32),n(6)),l=n(7),s=n(10),u=n(9),d=n(16),h=n(1),p={coords:{longitude:-.1235005,latitude:51.5040432}},m={defaultPosition:p,map:{factorySettings:{accessToken:"pk.eyJ1IjoibXVyYXR5YW1hbiIsImEiOiJjaXdvdDc5czAwMDA1MnpvOTR3NG9jeDNtIn0.ZiS2KQLb3lEYvK7rIjL9vw",interactive:!1,trackResize:!0},componentDefaultProps:{center:[p.coords.longitude,p.coords.latitude],zoom:[13]}}},f=n(13),v=n(14);function g(e){return a.a.createElement("svg",{viewBox:"0 0 20 20",width:"20",height:"20"},a.a.createElement("circle",{className:"big",cx:"10",cy:"10",r:"9"}),a.a.createElement("circle",{className:"small",cx:"10",cy:"10",r:"4"}))}var b=Object(v.d)(m.map.factorySettings);function w(e){var t=Object(f.a)(Object(f.a)({},m.map.componentDefaultProps),e),n=t.center,o=t.zone,r=null,i=null;if(o){var c={id:"zoneSource",type:"geojson",data:{type:"Feature",geometry:{type:"Polygon",coordinates:[o]}}},l={id:"zoneLayer",source:"zoneSource",type:"fill",layout:{},paint:{"fill-color":"#700","fill-opacity":.5}};r=a.a.createElement(v.c,c),i=a.a.createElement(v.a,l)}var s={coordinates:n,style:{backgroundColor:"white",width:"20px",height:"20px",borderRadius:"50%"}};return a.a.createElement(b,t,a.a.createElement(v.b,s,a.a.createElement(g,null)),r,i)}var E=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var o;return Object(c.a)(this,n),(o=t.call(this,e)).getCenter=function(){var e=o.props.position.coords;return[e.longitude,e.latitude]},o.state={},o}return Object(l.a)(n,[{key:"render",value:function(){var e={style:"mapbox://styles/mapbox/streets-v9",containerStyle:{height:"99vh",width:"99vw"},center:this.getCenter(),zone:this.props.zone};return a.a.createElement("div",{className:"page page-zone"},a.a.createElement(w,e))}}]),n}(a.a.Component),y=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return a.a.createElement("div",{className:"page page-home"},a.a.createElement("h1",null,"Hello!"),a.a.createElement("p",null,"La Zona App can notify you when you are in a congestion charge zone."))}}]),n}(a.a.Component),j=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var o;return Object(c.a)(this,n),(o=t.call(this,e)).onSuccess=function(e){console.info("GeoTracker.onSuccess",e),o.setState({position:e});var t=o.props.onNewPosition;t&&"function"===typeof t&&t(e)},o.onError=function(e){console.error("GeoTracker.onError",e),o.setState({error:e})},o.state={position:Object(f.a)({},e.defaultPosition),error:null},o.watchId=null,o}return Object(l.a)(n,[{key:"componentDidMount",value:function(){if(navigator.geolocation){this.watchId=navigator.geolocation.watchPosition(this.onSuccess,this.onError,{enableHighAccuracy:!0,timeout:15e3,maximumAge:15e3})}}},{key:"componentWillUnmount",value:function(){navigator.geolocation&&this.watchId&&navigator.geolocation.clearWatch(this.watchId)}},{key:"render",value:function(){var e=this.state.position.coords,t=e.longitude,n=void 0===t?null:t,o=e.latitude,r=void 0===o?null:o;return null!==n&&(n=Math.round(1e4*n)/1e4),null!==r&&(r=Math.round(1e4*r)/1e4),a.a.createElement("i",null,"(",r,", ",n,")")}}]),n}(a.a.Component),O=n(44);function k(e){var t=e.position,n=e.zone;if(!t||!n)return null;var o=t.coords;if(!o)return null;var r=[o.longitude,o.latitude],i={type:"Polygon",coordinates:[n]},c=Object(O.a)(i,r)?"You are in the zone!":" ";return console.log(r,"InTheZone",i,"message",c),a.a.createElement("i",null,c)}var z=n(25),S=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var o;return Object(c.a)(this,n),(o=t.call(this,e)).onNewPosition=function(e){o.setState({position:e})},o.state={position:m.defaultPosition},o}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state.position;return a.a.createElement(a.a.Fragment,null,a.a.createElement(d.a,null,a.a.createElement("nav",null,a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement(d.b,{to:"/"},"La Zona")),a.a.createElement("li",null,a.a.createElement(d.b,{to:"/zone"},"Zone")),a.a.createElement("li",{className:"inthezone"},a.a.createElement(k,{position:e,zone:z})),a.a.createElement("li",{className:"geotracker"},a.a.createElement(j,{defaultPosition:e,onNewPosition:this.onNewPosition})))),a.a.createElement("main",null,a.a.createElement(h.c,null,a.a.createElement(h.a,{path:"/zone"},a.a.createElement(E,{position:e,zone:z})),a.a.createElement(h.a,{path:"/"},a.a.createElement(y,null))))))}}]),n}(a.a.Component),N=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function P(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(a.a.createElement(S,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");N?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var o=n.headers.get("content-type");404===n.status||null!=o&&-1===o.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):P(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):P(t,e)}))}}()}},[[27,1,2]]]);
//# sourceMappingURL=main.0e49d34b.chunk.js.map